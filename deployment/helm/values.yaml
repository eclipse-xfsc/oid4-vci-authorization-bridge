replicaCount: 1
name: pre-authorization-bridge

image:
  repository: node-654e3bca7fbeeed18f81d7c7.ps-xaas.io/ocm-wstack
  name: pre-authorization-bridge
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "main"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  sha: ""
  # -- Image pull policy
  pullPolicy: Always
  # -- Image pull secret when internal image is used
  pullSecrets: key

podAnnotations: {}

resources:
  requests:
    cpu: 25m
    memory: 64Mi
  limits:
    cpu: 150m
    memory: 128Mi

ingress:
   enabled: true
   annotations:
     kubernetes.io/ingress.class: nginx
   hosts:
     - host: changeme
       paths:
         - path: /.well-known/openid-configuration
           port: 8080
           pathtype: Exact
         - path: /token
           port: 8080
           pathtype: Exact
   tls:
     - secretName: xfsc-wildcard
       hosts:
         - test.example.io

service:
  port: 8080
  type: ClusterIP

server:
  http:
    host: 0.0.0.0
    port: 8080

config:
  nats:
    url: http://localhost:4222
    timeoutInSec: 10
  logLevel: debug
  servingPort: 8080
  database:
    username: default
    password: pass
    hosts: localhost
    port: 6379
    db: 0
    IsCluster: false
  oAuth:
    signerTopic: sign
    credentialEndpoint: http://.../credential
    key: signKey
    issuer: "did:web:dddddddddd"
  wellKnown:
    issuer: http://localhost:8080
    token_endpoint: http://localhost:8080/token
    jwks: http://...
    grant_types_supported:
      - urn:ietf:params:oauth:grant-type:pre-authorized_code
